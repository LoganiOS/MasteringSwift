###### 20/09/26

------



#### Index

### **1. Property**

- Stored Property



### **2.  self**

- self



------



### **1.  Property**

- #### Stored Property

  - 구조체나 클래스 내부에 변수나 상수를 선언하면 Property(속성)가 된다. 이런 속성을 정확히 저장속성이라고 한다.

  - ```swift
    struct Person {
        let name: String // ① Constant Instance Stored Property 상수저장속성
        var birthYear: Int // ② Variable Instance Stored Property 변수저장속성
    }
    
    // ①, ② : 인스턴스에 속한 속성들이다.
    ```

    

- #### Computed Property

  - **계산속성은 메모리공간을 가지지 않는다**. 다른 속성에 저장된 값을 읽어서 필요한 계산을 실행한 다음에 리턴하거나 속성으로 전달된 값을 다른 속성에 저장한다. 

  - `var` 키워드로만 선언해야 한다.

  - ```swift
    struct Person {
        let name: String 
        var birthYear: Int 
        
        var age: Int {
            get { // 속성값을 읽을 때 실행
                let calendar = Calendar.current
                let now = Date()
                let year = calendar.component(.year, from: now)
                return year - birthYear + 1
            }
            set { // 속성값을 저장할 때 실행
                let calendar = Calendar.current
                let now = Date()
                let year = calendar.component(.year, from: now)
                birthYear = year - newValue // 파라미터를 직접 선언할 수 있지만 보통 생략하고 newValue값을 사용
            }
        }
    }
    
    var pp = Person(name: "Logan", birthYear: 1992)
    pp.age // 29, get블록 실행
    
    pp.age = 50 // set블록 실행
    pp.birthYear // 1970
    
    // Computed Property에서 set블록은 생략이 가능하다(Read-only Computed property, 읽기전용).
    // 쓰기전용은 문법적으로 허용하지 않는다.
    ```



- #### Type Property

  - `형식 속성`  인스턴스마다 개별 공간이 생성되지 않고, **모든 인스턴스가 공유하는 하나의 공간만 생성**한다.

  - **형식의 이름을 통해 접근**해야 한다.

  - 클래스, 구조체, 열거형에 모두 추가할 수 있다.

  - 기본적으로 지연속성이기 때문에, 속성에 최초로 접근하는 시점에 초기화된다. 

  - ```swift
    class Math {
        static let pi = 3.14
    }
    
    let m = Math()
    Math.pi // 이 시점에 pi속성이 초기화된다. 
    ```



- #### Computed Type Property

  - 계산 형식 속성을 static으로 선언하면, 서브클래스에서 오버라이딩이 금지된다. 



------



### **2.  self**

- #### self

  - 직접 선언하는 게 아니라, 인스턴스에 자동으로 제공된다.

  - 인스턴스 내부에서 접근하면 해당 인스턴스로 접근한다.

  - 타입 멤버 내부에서 접근한다면, 형식 자체에 접근한다.

  - ```swift
    class Size {
        var width = 0.0
        var height = 0.0
        
        func calcArea() -> Double {
            return self.width * height
        }
        
        var area: Double {
            return calcArea()
        }
        
        func update(width: Double, height: Double) {
            self.width = width
            self.height = height
        }
        
        func doSomething() {
            let c = { self.width * self.height } // 클로저가 인스턴스 멤버에 접근하려면, self를 캡쳐해야한다.
        }
    }
    ```

    