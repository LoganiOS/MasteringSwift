###### 20/09/16

------



#### Index

### **1. Closures**

-  Closures
-  Closure Syntax Optimization
-  Parameters
-  Argument Label
-  In-Out Parameters
-  Function Notation
-  Function Type



### **2.  기타메모**

- -



------



### **1.  Closures**

- #### Closures

  - Closure에는 Function, Nested Function, Anonymous Function 이렇게 세가지 종류가 있다.
  - Named Closures에는 앞에서 배운 Function과 Nested Function이 있다.
  - Anonymous Function를 Unnamed Closure, 익명함수라고도한다.
  - 자료형(Type)을 표현하는 방법은 함수와 완전히 동일하다. 이 말은 **함수와 Closure는 서로 호환**된다고 할 수 있다. 
  - Global Scope에서 단독으로 작성할 수 없다.
  - Closure도 함수와 마찬가지로 Fisrt Class Citizen이기 때문에 **상수나 변수에 저장해 사용**해야 한다. ✨
  - (parameters) -> ReturnType 까지를 Closure Head라고 부르고 parameter와 return형이 없다면 생략할 수 있다.
  - `in` Keyword로 Closure Head와 Closure Body를 구분지을 수 있다. 
  - **Closure를 호출할 땐 Argument Label을 사용하지 않는다.** ✨
  - argument위치에 직접 작성한 closure를 inline closure라고 부른다.


```swift
// Closure의 기본 문법
{ (parameters) -> ReturnType in
 statements
}

// 함수와 마찬가지로 파라미터와 리턴형(in 키워드도 함께)을 생략할 수 있다.
{ statements }

// 문법을 배우기 위해 위처럼 적은 것이고, 실제로는 아래처럼 상수나 변수에 저장해서 사용해야 한다.
let name = { print("Hello, Swift") }
name()
```



- #### Syntax Optimization

  - 불필요한 요소를 최대한 생략하고 단순하게 작성하는데, 이걸 문법 최적화(Syntax Optimization)라고 한다.
    1. parameter와 return형 `in`을 생략할 수 있다.
    2. parameter이름을 Shorthand Argument Name($문자와 숫자의 조합)으로 대체할 수 있다.
       - Shorthand Argument Name에서  parameter는 숫자로 대체되는데, 대체되는 숫자는 0부터 시작된다.  `$0`
    3. 단일 리턴문만 남아있을 경우 return Keyword를 생략한다. (Implicit Returns)
    4. Closure parameter가 마지막 parameter라면, In-line Closure가 아닌, Trailing Closure로 작성한다.
    5. `()`에 다른 parameter가 없다면, `()`도 생략해준다. 만약 Argument Label이 있다면 삭제한다.

```swift
var numbers = [1, 2, 3]
var one = numbers.contains(where: {(num: Int) -> Bool in
    return num == 4
})

print(one)
// Prints: false


// 문법 최적화 과정

// 1. parameter와 parameter이름, return형을 생략한다.
var one = numbers.contains(where: {
    return num == 4
})

// 2. parameter이름을 Shorthand Argument Name으로 대체한다.
var one = numbers.contains(where: {
    return $0 == 4
})

// 3. Implicit Returns
var one = numbers.contains(where: {
    $0 == 4
})

// 4. Trailing Closure로 변경한다.
var one = numbers.contains(where: ){
    $0 == 4
}

// 5. argument label과 ()를 생략한다.
var one = numbers.contains {
    $0 == 4
}
```



- #### Capturing Values

  - closure 내부에서 외부에 있는 값에 접근하면, 값에 대한 참조를 획득한다.
  - closure 내부에서 값을 바꾼다면, 외부에 있는 원래 값도 함께 바뀐다.



- #### Escaping Closure

  - parameter는 함수가 생성되면 실행되었다가, 함수의 실행이 끝나면 자동으로 제거된다.
  - 파라미터 앞에 @escaping 특성을 추가하면 함수 실행 흐름과 관계없이 실행할 수 있다.



------



### **2.  기타메모**

- -
